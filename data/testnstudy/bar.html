<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <meta http-equiv="X-UA-Compatible" content="ie=edge"/>
    <title>Unauthorized Immigrants in South Korea</title>
    <link rel="stylesheet" href="styles.css">
    <script type = "text/javascript" src="https://unpkg.com/d3@5.6.0/dist/d3.min.js"></script>
      
    <style>
        
        svg rect {
            fill: grey;
        }
        
        svg text {
            fill: yellow;
            font: 12px sans-serif;
            text-anchor: end;
        }
      
    </style>
      
      
  </head>
    
  <body>
      
      <script>
      
        var data = [10, 5, 12, 15];

        /* Scalefactor is "scaled to a pixel value that is visible on the screen" and Barheight is the static height of the horizontal bars */ 
        var width = 300,
            scaleFactor = 20,
            barHeight = 30;
        
        var graph = d3.select("body")
            .append("svg")
            .attr("width", width)
            .attr("height", barHeight * data.length);
        
        /* Each bar inside corresponds with an element. Therefore, I create group elements. each of my group elements needs to be positioned one below the other to build horizontal bar chart. Let me take a transformation formula index * bar height */ 
        
        /* the parameter "d" gives my data element, "i" gives the index of data in the array. */ 
        
        /* Each of the group elements needs to be positioned one below the other to build a horizontal bar chart. So, take a transformation formula index * bar height */ 
          
        var bar = graph.selectAll("g")
            .data(data)
            .enter()
            .append("g")
            .attr("transform", function(d, i) {
                return "translate(0," + i * barHeight + ")";
            });
                  
        /* height is (bar height - margin) */ 
                  
        bar.append("rect")
            .attr("width", function(d) {
                return d * scaleFactor;
            })
            .attr("height", barHeight - 1);
        
        /* Text elements do not support padding or margin. For this reason, I need to give it a "dy" offset. This is used to align text vertically */ 
          
        bar.append("text")
            .attr("x", function(d) { return (d*scaleFactor); })
            .attr("y", barHeight / 2)
            .attr("dy", ".35em")
            .text(function(d) {return d; });
        
    </script>
  
  </body>
</html>